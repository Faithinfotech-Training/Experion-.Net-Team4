<form name="reportForm" #form="ngForm" autocomplete="off"
(ngSubmit)="onSubmit(form)">

    
    
    <!--Patient ID-->
    <div class="form-group">
        <label>Patient</label>
        <select name="PatientId" id="PatientId" class="form-control" #PatientId="ngModel" required
            [(ngModel)]="labService.reportFormData.PatientId">
            <option value=0 disabled  >Choose Patient</option>
            <option *ngFor="let patient of patientService.patients" 
            value="{{patient.PatientId}}">{{patient.PatientName}}</option>
        </select>
        <div class="validation-error" *ngIf="PatientId.touched && PatientId.invalid">
            <div *ngIf="PatientId.errors.required">Patient ID is Required</div>
        </div>
    </div>
    <br>

    <!--Staff ID-->
    <div class="form-group">
        <label>Staff</label>
        <select name="StaffId" id="StaffId" class="form-control" #StaffId="ngModel" required
            [(ngModel)]="labService.reportFormData.StaffId">

            <option value=0 disabled  >Choose Staff</option>

            <option *ngFor="let staff of labService.staffs" 
            value="{{staff.StaffId}}">{{staff.StaffName}}</option>

        </select>
        <div class="validation-error" *ngIf="StaffId.touched && StaffId.invalid">
            <div *ngIf="StaffId.errors.required">Staff  is Required</div>
        </div>
    </div>
    <br>

    <!--Doctor ID -->
    <div class="form-group">
        <label>Doctor</label>
        <select name="DoctorId" id="DoctorId" class="form-control" #DoctorId="ngModel" required
            [(ngModel)]="labService.reportFormData.DoctorId">

            <option value=0 disabled  >Choose Doctor</option>

            <option *ngFor="let doctor of labService.doctors" 
            value="{{doctor.DoctorId}}">{{doctor.DoctorName}}</option>


        </select>
        <div class="validation-error" *ngIf="DoctorId.touched && DoctorId.invalid">
            <div *ngIf="DoctorId.errors.required">Doctor  is Required</div>
        </div>
    </div>
    <br>   

    
    <!--Report Notes-->
    <div class="form-group">
        <label>Notes & Observations</label>
        <textarea name="ReportNotes" #ReportNotes="ngModel" [(ngModel)]="labService.reportFormData.ReportNotes"
            class="form-control" placeholder="Enter Notes & Observations" minlength="2" maxlength="100" required
            [ngClass]="{'is-invalid': ReportNotes.touched && ReportNotes.invalid}" ></textarea>

        <div class="validation-error" *ngIf="ReportNotes.touched && ReportNotes.invalid">
            <div *ngIf="ReportNotes.errors.required">Doctor ID is Required</div>
        </div>
    </div>
    <br>

    <!--Submit Button-->
    <div class="form-group">
        <br>
        <button type="submit" [disabled]="!(form.valid && form.dirty) "
            class="btn  btn-primary form-control" >
            Submit
        </button>
    </div>
    <br>
</form>
<div *ngIf="isSubmitted == true" >
    <button class="btn  btn-secondary form-control" (click)="addTest()">Add Tests</button>
</div>




